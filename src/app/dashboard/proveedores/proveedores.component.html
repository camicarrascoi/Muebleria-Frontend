<!-- Barra de navegaci√≥n simple -->
<nav class="navbar">
  <span>Lista Proveedores</span>
</nav>

  <!-- Bot√≥n Agregar solo visible para admin -->
  <div class="acciones">
    <button *ngIf="esAdmin" (click)="abrirFormularioNuevo()">‚ûï Agregar proveedor</button>
  </div>

  <!-- Tabla de proveedores -->
  <table *ngIf="proveedores.length > 0" border="1">
  <thead>
    <tr>
      <th>Nombre</th>
      <th>Tel√©fono</th>
      <th>Correo</th>
      <th>Direcci√≥n</th>
      <th>Materiales</th> 
      <th *ngIf="esAdmin">Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let proveedor of proveedores">
      <td>{{ proveedor.nombre }}</td>
      <td>{{ proveedor.telefono }}</td>
      <td>{{ proveedor.correo }}</td>
      <td>{{ proveedor.direccion }}</td>
      <td>
        <ul>
          <li *ngFor="let material of proveedor.materiales">{{ material.nombre }}</li>
        </ul>
      </td>
      <td *ngIf="esAdmin">
        <button (click)="editarProveedor(proveedor)">‚úèÔ∏è Editar</button>
        <button (click)="eliminarProveedor(proveedor.id!)">üóëÔ∏è Eliminar</button>
      </td>
    </tr>
  </tbody>
</table>

  <!-- Formulario para agregar/editar proveedores -->
  <div *ngIf="mostrarFormulario" class="formulario-proveedor">
    <h3>{{ proveedorSeleccionado?.id ? 'Editar Proveedor' : 'Agregar Proveedor' }}</h3>
    <form (ngSubmit)="guardarProveedor()" #formProveedor="ngForm" novalidate>
      <label>
        Nombre:
        <input
          type="text"
          [(ngModel)]="proveedorSeleccionado!.nombre"
          name="nombre"
          required
          #nombre="ngModel"
        />
      </label>
      <div *ngIf="nombre.invalid && nombre.touched" class="error">
        El nombre es obligatorio.
      </div>

      <label>
        Tel√©fono:
        <input
          type="text"
          [(ngModel)]="proveedorSeleccionado!.telefono"
          name="telefono"
          required
          #telefono="ngModel"
        />
      </label>
      <div *ngIf="telefono.invalid && telefono.touched" class="error">
        El tel√©fono es obligatorio.
      </div>

      <label>
        Correo:
        <input
          type="email"
          [(ngModel)]="proveedorSeleccionado!.correo"
          name="correo"
          required
          #correo="ngModel"
        />
      </label>
      <div *ngIf="correo.invalid && correo.touched" class="error">
        El correo debe ser v√°lido.
      </div>

      <label>
        Direcci√≥n:
        <input
          type="text"
          [(ngModel)]="proveedorSeleccionado!.direccion"
          name="direccion"
          required
          #direccion="ngModel"
        />
      </label>
      <div *ngIf="direccion.invalid && direccion.touched" class="error">
        La direcci√≥n es obligatoria.
      </div>

      <button type="submit" [disabled]="formProveedor.invalid">üíæ Guardar</button>
      <button type="button" (click)="cancelarFormulario()">‚ùå Cancelar</button>
    </form>
  </div>
